<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="registro.css">
    <style>
        /* Estilos para el texto editable */
        .editable {
            border: none;
            background: none;
            outline: none;
            display: inline-block;
            border-bottom: 1px solid #ccc; /* Línea inferior */
            padding: 4px; /* Espacio entre la línea y el texto */
        }
    </style>
    <title>Registro</title>
</head>
<div>
  <img src="C:\Users\47699199\Desktop\Milo-s\Milo-s\Milos\Imagenes\logomilos.png" alt="Rectángulo" class="logomilos">
</div>
<body>
    <div class="container">
        <img src="C:\Users\47699199\Desktop\Milos\Rectangulorosa.png" alt="Imagen de inicio de sesión" class="Rectangulorosa">
        <img src="C:\Users\47699199\Desktop\Milo-s\Milo-s\Milos\Imagenes\Group 2.png" alt="Imagen de inicio de sesión" class="mediocirculomilos">
        <div class="registration-form">
          <h2>Registrarse</h2>
          <form>
            <div class="form-group">
              
              <div class="input-with-icon">
                <img src="C:\Users\47699199\Desktop\Milo-s\Milo-s\Milos\Imagenes\personajeusuario.png"alt="Icono de usuario" class="input-icon">
                <input id="nombre" class="editable" type="text" placeholder="Nombre de usuario" required>
              </div>
            </div>
            <div class="form-group">
              <div class="input-with-icon">
                <img src="C:\Users\47699199\Desktop\Milo-s\Milo-s\Milos\Imagenes\email.png" alt="Icono de correo electrónico" class="input-icon">
                <input id="email" class="editable" type="text" placeholder="E-mail" required onblur="validarGenero()">
              </div>
           
              <div class="form-group">               
                <div class="input-with-icon">
                  <img src="C:\Users\47699199\Desktop\Milo-s\Milo-s\Milos\Imagenes\contraseña.png" alt="Icono de correo electrónico" class="input-icon">
                  <input id="email" class="editable" type="text" placeholder="Contraseña" required onblur="validarGenero()">
                </div>
            

            <button type="submit">Registrarse</button>
          </form>
        </div>
        <button id="backButton">
            <img src="C:\Users\47699199\Desktop\Milos\flechaatras.png" alt="flechaatrás">
        </button>
        
        <script>
  
  
  function validarGenero() {
    const generoInput = document.getElementById('email');
    const errorGenero = document.getElementById('errorGenero');
    const genero = generoInput.value.toLowerCase();

    if (genero !== 'masculino' && genero !== 'femenino') {
      errorGenero.textContent = 'El género debe ser "Masculino" o "Femenino"';
      generoInput.value = ''; // Limpia el campo
    } else {
      errorGenero.textContent = ''; // Limpia el mensaje de error
    }
  }
  document.getElementById('registroForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Evita que el formulario se envíe automáticamente
                enviarSolicitudRegistro();
            });

            function enviarSolicitudRegistro() {
                const nombreUsuario = document.getElementById('nombre').value;
                const email = document.getElementById('email').value;
                const contraseña = document.getElementById('contraseña').value;

                fetch('/RegistrarUsuario', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        nombreUsuario: nombreUsuario,
                        email: email,
                        contraseña: contraseña,
                    }),
                })
                .then(response => response.json())
                .then(data => {
                    // Maneja la respuesta del servidor
                    console.log(data);
                    // Puedes redirigir al usuario a otra página después del registro si es necesario
                })
                .catch(error => {
                    console.error('Error al enviar la solicitud:', error);
                });
            }




            const backButton = document.getElementById('backButton');
            backButton.addEventListener('click', () => {
                window.location.href ="file:///C:/Users/47699199/Desktop/Milo-s/Milo-s/Milos/////pagina%20principal/index.html";
            });

            
        </script>
    </div>
</body>
</html>
