<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="index.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
    <div class="flechaatras">
        <a href="file:///C:/Users/47699199/Desktop/Milos/pagina%20principal/index.html">
            <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\flechaatras.png" alt="flechaatras">
        </a>
        <div class="logomilos">
            <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\logomilos.png" alt="Rectángulo" class="logomilos">
        </div>
        <div class="Rectangulorosa">
            <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\Rectangulorosa.png" alt="Rectángulo" class="Rectangulorosa">
        </div>
        <div class="adibujar">
            <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\adibujar.png" alt="Rectángulo" class="adibujar">
        </div>
        <section class="container">
            <img id="lapiz" src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\lapiz.png" alt="Lápiz" style="position:absolute; margin-top: 230px; cursor: pointer;">
            <canvas id="lienzo" width="800" height="400" style="border: 1px solid #000;"></canvas>
            <div class="arbol">
                <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\arbol.png" alt="Rectángulo" class="arbol">
            </div>
            <div class="arbol2">
                <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\arbol.png" alt="Rectángulo" class="arbol2">
            </div>
        </section>
        <div class="termine" onclick="capturarPantalla()">
            
                <img src="C:\Users\marti\OneDrive\Documentos\GitHub\Milo-s\Milo-s\Milos\Imagenes\termine.png" alt="flechaatras">
           
        </div>

        <script>
            var canvas = document.getElementById('lienzo');
            var ctx = canvas.getContext('2d');
            var lapiz = {
                x: 0,
                y: 0,
                dibujando: false
            };
            var offset = {
                x: 0,
                y: 0
            };

            function dibujar(event) {
                if (!lapiz.dibujando) return;

                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.strokeStyle = '#000';

                ctx.lineTo(event.clientX - offset.x, event.clientY - offset.y);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(event.clientX - offset.x, event.clientY - offset.y);
            }

            document.getElementById('lapiz').addEventListener('mousedown', function(event) {
                lapiz.dibujando = true;
                offset.x = event.clientX - lapiz.x;
                offset.y = event.clientY - lapiz.y;
                ctx.beginPath();
                ctx.moveTo(event.clientX - offset.x, event.clientY - offset.y);
                canvas.addEventListener('mousemove', dibujar);
            });

            document.addEventListener('mouseup', function() {
                lapiz.dibujando = false;
                canvas.removeEventListener('mousemove', dibujar);
            });

            document.addEventListener('mousemove', function(event) {
                if (lapiz.dibujando) {
                    lapiz.x = event.clientX - offset.x;
                    lapiz.y = event.clientY - offset.y;
                    document.getElementById('lapiz').style.left = lapiz.x + 'px';
                    document.getElementById('lapiz').style.top = lapiz.y + 'px';
                }
            });

            function capturarPantalla() {
                html2canvas(document.getElementById('lienzo')).then(function(canvas) {
                    var imgData = canvas.toDataURL('image/png');
                    var link = document.createElement('a');
                    link.href = imgData;
                    link.download = 'captura.png';
                    link.click();
                });
            }
        </script>
    </body>
</html>
